<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>angular.tone</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
        rel="stylesheet">
  <!-- inject:css -->
  <link rel="stylesheet" href="css/style.css">
  <!-- endinject -->
</head>
<body ng-app="ec.angular.tone.demo">
<div ng-controller="SynthCtrl">
  <h1>Angular-Tone Demo</h1>

  <p>This is the Demo of angular-tone, an AngularJS wrapper for ToneJS to easily create Music Applications. It features
    the following UI Components:</p>

  <h2>Instrument</h2>

  <p>The intrument directive allows adding instruments directly over the template! There is nothing to see, but to hear:
    Press the Pad below to hear a c3.
    Inspect the code to learn how to add an instrument via the template.</p>
  <instrument ng-model="coolSynth" id="coolSynth" type="mono"></instrument>
  <!--<instrument ng-model="polySynth" id="polySynth" type="poly" config="{voices:8}"></instrument>-->
  <instrument ng-model="polySynth" id="polySynth" type="poly"
              config="{voices:8, oscillator: {partials:[0,2,3]},envelope:{attack:0.01,release:3}}"></instrument>

  <h2>Pad</h2>

  <p>A pad is a button with three modes: hold (yellow), trigger (red) and switch (white/blue). An active pad turns
    green.<br/>
  <li><b>hold</b> is active as long as the mouse is pressed.</li>
  <li><b>trigger</b> activates on click for a short time.</li>
  <li><b>switch</b> is either off (white) or on (blue) and
    triggers when turning on.
  </li>
  </p>
  <div class="pads">
    <pad instrument="polySynth" action="{note:'C3'}" size="50" mode="hold"></pad>
    <pad instrument="polySynth" action="{note:'E3'}" size="50" mode="trigger"></pad>
    <pad instrument="polySynth" action="{note:'G3'}" size="50" mode="switch"></pad>
    <pad instrument="polySynth" action="{note:'C4',chord:'major'}" size="50" mode="hold">cmaj</pad>

    <pad instrument="polySynth" action="{note:'E4',chord:'maj'}" size="50" mode="hold">cmaj</pad>
  </div>

  <h2>Loop</h2>
  A Loop has two pads: Play/Stop and Mute/Unmute:
  <loop ng-model="matrixLoop" autostart="false" length="8" on-tick="toneMatrix.triggerColumn"></loop>


  <h2>Matrix</h2>

  <p>A matrix is a collection of pads that acts as a unit. The following matrix consists of pads with mode=switch. Click
    to toggle on/off!</p>
  <!--<poti type="filter" parameter="frequency" target="polySynth" max="6000"></poti>-->
  <poti type="envelope" parameter="attack" target="polySynth" init="0.1" max="10" places="2" label="attack"></poti>
  <div class="pads">

    <!--<loop ng-model="matrixLoop" autostart="false" length="8" on-tick="toneMatrix.triggerColumn"></loop>-->
    <pad on-trigger="toneMatrix.clear" mode="trigger">
      <div tone-icon="clear"></div>
    </pad>
    <pad on-trigger="toneMatrix.randomize" mode="trigger">
      <div tone-icon="shuffle"></div>
    </pad>
    <poti value="matrixRoot" label="root" size="50" min="0" max="11" init="0"
          values="['c','db','d','eb','e','f','gb','g','ab','a','bb','b']"></poti>
    <poti ng-model="matrixOctave" init="3" label="octave" size="50" min="2" max="6"></poti>
    <poti ng-model="matrixOffset" label="offset" size="50" min="0" max="11" init="0"></poti>
    <poti value="matrixScale" label="scale" size="50" init="8"
          values="['major','minor','dorian','phrygian','lydian','mixolydian','aeolian','locrian','majorpentatonic','minorpentatonic','chromatic','blues','doubleharmonic','flamenco','harmonicminor','melodicminor','wholetone']"></poti>
  </div>
  <matrix width="8" height="8" ng-model="toneMatrix" init-pads="random" instrument="polySynth" mapping="time scale"
          scale="{{matrixScale}}" root="{{matrixRoot}}" octave="matrixOctave" scale-offset="matrixOffset"
          show-labels="true"></matrix>
  <!--  scale="{{matrixScale}}" -->

  <matrix width="8" height="1" ng-model="colTrigger" pad-mode="hold" mapping="vertical"
          matrix="toneMatrix"></matrix>

  <p>The yellow matrix controls whole columns of the above matrix to hold activate all pads that are on!</p>

  <!--<p>Those potis controls the matrix octave and scale:</p>

  <div class="potis">
    <poti ng-model="matrixOctave" init="2" label="octave" size="50" min="1" max="8"></poti>
    <poti ng-model="test" value="matrixScale" label="scale" size="50"
          values="['minorpentatonic','majorpentatonic','blues']"></poti>
  </div>-->
  <h2>Keyboard</h2>

  <p>Angular wrapper for <a href="http://stuartmemo.com/qwerty-hancock/">Qwerty Hancock</a>, with extra options to
    connect with ToneJS:</p>
  <keyboard id="cool" width="500" synth="polySynth"></keyboard>
  <h2>Poti</h2>
  <poti ng-model="polySynth.envelope.attack" label="attack" size="50" min="0" max="5" places="2"></poti>
  <h2>Mixer</h2>

  <p>The following Mixer controls the Synthesizers envelope and automatically generates potis for every parameter:</p>
  <mixer ng-model="polySynth.envelope"></mixer>
  <h2>Dynamic Test</h2>
  <input ng-model="staff" ng-init="staff='C4/q, d4, e4, f4'">
  <score notes="staff"></score>
  <!--<score ng-repeat=""-->
  <div ng-repeat="scales in symmetricScales">
    <h2>{{intervals[$index]}} Skalen</h2>
    <score notes="scale" ng-repeat="scale in scales" note-length="{{amount}}"></score>
  </div>
  <div ng-repeat="scales in symmetricScales">

    <h2>## {{intervals[$index]}}</h2>

    <ul>
      <li ng-repeat="scale in scales">- {{scale}}</li>
    </ul>
  </div>
</div>
<!-- inject:js -->
<script src="vendor.js"></script>
<script src="angular-tone.js"></script>
<script src="angular-tone-demo.js"></script>
<!-- endinject -->
</body>
</html>